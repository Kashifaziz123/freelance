<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
       <record id="view_outpatient_form" model="ir.ui.view">
	       <field name="name">res.partner</field>
	       <field name="model">res.partner</field>
	       <field name="inherit_id" ref="base.view_partner_form"/>	
	       <field name="arch" type="xml">
       		<xpath expr="//label[@for='street']" position="before">
       		   <field name="father_name"/>
               <field name="age"/>
       		</xpath>
       </field>
      </record>
      
      
        <record model="ir.ui.view" id="outpatient_form_view">
            <field name="name">Outpatient.Admission.form</field>
            <field name="model">outpatient.admissions</field>
            <field name="arch" type="xml">
                <form string="Outpatient">
                	<header>
						 <button confirm="Are you sure you want to create the invoice?" name="outpatient_invoiced" string="Create Invoice" type="object" class="oe_highlight" attrs="{'invisible':[('state', '=', 'Invoiced') ]}"/>
						 <field name="state" widget="statusbar" statusbar_visible="Draft,Invoiced" statusbar_colors='{"Draft":"blue","Invoiced":"grey"	}'/>                	
                	</header>	
	                	<sheet>
	                		 <div class="oe_button_box" name="button_box">
	             		         <button class="oe_stat_button" name="check_invoiced"
	                                	 string="Invoices" type="object"
	                                     icon="fa-bars"/>
                              </div>
		                    <group>
		                    	<group>
			                    	<field name="partner_id" required='1'/>
			                    	<label for="street" string="Address"/>
		                            <div class="o_address_format">
		                                <field name="street" placeholder="Street..." class="o_address_street"/>
		                                <field name="street2" placeholder="Street 2..." class="o_address_street"/>
		                                <field name="city" placeholder="City" class="o_address_city"/>
		                                <field name="state_id" class="o_address_state" placeholder="State"/>
		                                <field name="zip" placeholder="ZIP" class="o_address_zip"/>
		                                <field name="country_id" placeholder="Country" class="o_address_country"/>
		                            </div>
		                    	</group>
		                   		<group>
			                   		<field name="name"/>
		                   		    <field name="father_name" required='1'/>
			                        <field name="age"/>
			                        <field name="ph_no"/>
			                        <field name="cnic" required='1'/>
			                        <field name="pricelist_id"/>
			                        <field name="fiscal_position_id"/>
			                         <field name="invo_id" invisible='1'/>
		                        </group>
	                        </group>
		                     <notebook colspan="4">
			                    <page string="Products">
			                        <field name="lines">
			                            <tree string="Order lines" editable="bottom">
			                                <field name="product_id"/>
			                                <field name="qty"/>
			                                <field name="price_unit"/>
			                                <field name="discount"/>
			                                <field name="tax_ids_after_fiscal_position"/>
			                                <field name="price_subtotal"/>
			                                <field name="price_subtotal_incl"/>
			                            </tree>
			                            <form string="Order lines">
			                                <group col="4">
			                                    <field name="product_id"/>
			                                    <field name="qty"/>
			                                    <field name="discount"/>
			                                    <field name="price_unit"/>
			                                    <field name="price_subtotal"/>
			                                    <field name="price_subtotal_incl"/>
			                                    <field name="tax_ids_after_fiscal_position"/>
			                                    <field name="notice"/>
			                                </group>
                            </form>
                        </field>
                        </page>
                        </notebook>
	                	</sheet>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="outpatient_tree_view">
            <field name="name">utpatient.Admission.Tree</field>
            <field name="model">outpatient.admissions</field>
            <field name="arch" type="xml">
                <tree string="Outpatient">
                    <field name="name"/>
                    <field name="father_name"/>
                    <field name="age"/>
                    <field name="ph_no"/>
                    <field name="cnic"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="actions_outpatient" model="ir.actions.act_window">
			<field name="name">Outpatient Admissions</field>
			<field name="res_model">outpatient.admissions</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="view_id" ref="outpatient_tree_view"/>
		</record>

<menuitem id="main_menu_outpatient" name="Outpatient Admissions"
	action="actions_outpatient" parent="oehealth.oeh_medical_patients_menu"/>
</data>
</odoo>